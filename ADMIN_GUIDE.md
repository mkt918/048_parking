# 駐車場データ 管理・更新ガイド

`parking_data.json` を編集して駐車場の情報を修正・追加する方法を解説します。

## 0. 【推奨】自動追加ツールを使う

Google MapsのURLからデータを半自動作成するツールを用意しました。

1. フォルダ内の `add_parking.bat` をダブルクリックします。
2. 画面の指示に従って **Google MapsのURL** を貼り付けます。
3. 料金情報を簡単に入力します。
4. 自動的にデータが保存され、GitHubへプッシュされます。

---

## 1. データの構造

（以下、手動編集用のリファレンス）

各駐車場データは以下の構造になっています。新しい駐車場を追加する際は、このテンプレートをコピーして使用してください。

### テンプレート (JSON)

```json
  {
    "id": 13,                // ※既存の最大ID+1の数値を入力
    "name": "新しい駐車場名",
    "coords": [35.123456, 136.123456], // [緯度, 経度]
    "distance": "約300m",
    "capacity": "100台",     // 分からなければ null
    "price_structure": {
      "weekday": {          // 平日料金
        "day": {            // 昼間
          "start": "08:00",
          "end": "22:00",
          "price": 200,     // 金額（円）
          "unit_minutes": 30 // 単位時間（分）
        },
        "night": {          // 夜間
          "start": "22:00",
          "end": "08:00",
          "price": 100,
          "unit_minutes": 60
        },
        "max": 1200         // 平日最大料金（無ければ null）
      },
      "weekend": {          // 休日料金
        "day": {
          "start": "08:00",
          "end": "22:00",
          "price": 300,
          "unit_minutes": 30
        },
        "night": {
          "start": "22:00",
          "end": "08:00",
          "price": 100,
          "unit_minutes": 60
        },
        "max": 1500         // 休日最大料金（無ければ null）
      }
    },
    "note": "特記事項があれば記入"
  },
```

---

## 2. 編集手順

### A. GitHub上で直接編集する場合（一番簡単）

1. ブラウザで GitHubリポジトリの `parking_data.json` を開きます。
2. 右上の鉛筆アイコン（Edit this file）をクリックします。
3. 既存のデータの末尾にカンマ(`,`)を追加し、新しいデータを貼り付けます。
4. ページ下部の "Commit changes" に変更内容（例:「駐車場Aを追加」）を入力し、"Commit changes" ボタンを押します。
   → **数分でWebサイトに反映されます。**

### B. ローカルで編集する場合

1. `parking_data.json` をVS Code等のエディタで開きます。
2. データを修正・追加します。
3. 以下のコマンドで反映します。

   ```bash
   git add parking_data.json
   git commit -m "Add new parking data"
   git push
   ```

---

## 3. 座標（緯度経度）の調べ方

1. **Google Maps** を開きます。
2. 追加したい駐車場の場所を **右クリック** します。
3. メニューの一番上に表示される数字（例: `35.17064, 136.88169`）をクリックします。
   → クリップボードに座標がコピーされます。
4. JSONの `coords: [ ... ]` の部分に貼り付けます。

---

## 4. よくある設定パターン

**一日中同じ料金の場合**
`day` の `start` を "00:00", `end` を "24:00" に設定し、`night` を `null` にします。

```json
"day": { "start": "00:00", "end": "24:00", "price": 200, "unit_minutes": 60 },
"night": null
```

**最大料金がない場合**
`max` を `null` にします。

```json
"max": null
```
